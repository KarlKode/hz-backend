
var map, heatmap;

function toggleHeatmap() {
  heatmap.setMap(heatmap.getMap() ? null : map);
}

function changeGradient() {
  var gradient = [
    'rgba(0, 255, 255, 0)',
    'rgba(0, 255, 255, 1)',
    'rgba(0, 191, 255, 1)',
    'rgba(0, 127, 255, 1)',
    'rgba(0, 63, 255, 1)',
    'rgba(0, 0, 255, 1)',
    'rgba(0, 0, 223, 1)',
    'rgba(0, 0, 191, 1)',
    'rgba(0, 0, 159, 1)',
    'rgba(0, 0, 127, 1)',
    'rgba(63, 0, 91, 1)',
    'rgba(127, 0, 63, 1)',
    'rgba(191, 0, 31, 1)',
    'rgba(255, 0, 0, 1)'
  ]
  heatmap.set('gradient', heatmap.get('gradient') ? null : gradient);
}

function changeRadius() {
  heatmap.set('radius', heatmap.get('radius') ? null : 20);
}

function changeOpacity() {
  heatmap.set('opacity', heatmap.get('opacity') ? null : 0.2);
}

function getPoints2(){
var points = []
var lon = 47.390120;
var lat = 8.514997;
var rand = Math.random() /100;
var rand2 = Math.random() /100;

var newlat;
var newlon;

for(i=0;i<40;i++){
	rand = Math.random() /10;
	rand2 = Math.random() / 10;
	newlat = lat + rand;
	newlon = lon + rand2;
	points.push(new google.maps.LatLng( newlon, newlat));
}
return points;
}

function getPoints3(){
var gpoints = [];
for(i = 0 ; i < reports.length ; i++){
	console.log("filling points" + reports[i].location.lat);
	gpoints.push(new google.maps.LatLng(reports[i].location.lat, reports[i].location.lng));
} 
return gpoints;
}


// Heatmap data: 500 Points
function getPoints() {
  return [
    new google.maps.LatLng(47.362551, 8.445368),
    new google.maps.LatLng(47.362745, 8.444586),
    new google.maps.LatLng(47.362842, 8.443688),
    new google.maps.LatLng(47.362919, 8.442815),
    new google.maps.LatLng(47.362992, 8.442112),
    new google.maps.LatLng(47.363100, 8.441461),
    new google.maps.LatLng(47.363206, 8.440829),
    new google.maps.LatLng(47.363273, 8.440324),
    new google.maps.LatLng(47.363316, 8.440023),
    new google.maps.LatLng(47.363357, 8.439794),
    new google.maps.LatLng(47.363371, 8.439687),
    new google.maps.LatLng(47.363368, 8.439666),
    new google.maps.LatLng(47.363383, 8.439594),
    new google.maps.LatLng(47.363508, 8.439525),
    new google.maps.LatLng(47.363842, 8.439591),
    new google.maps.LatLng(47.364147, 8.439668),
    new google.maps.LatLng(47.364206, 8.439686),
    new google.maps.LatLng(47.364386, 8.439790),
    new google.maps.LatLng(47.364701, 8.439902),
    new google.maps.LatLng(47.364965, 8.439938),
    new google.maps.LatLng(47.365010, 8.439947),
    new google.maps.LatLng(47.365360, 8.439952),
    new google.maps.LatLng(47.365715, 8.440030),
    new google.maps.LatLng(47.366117, 8.440119),
    new google.maps.LatLng(47.366564, 8.440209),
    new google.maps.LatLng(47.366905, 8.440270),
    new google.maps.LatLng(47.366956, 8.440279),
    new google.maps.LatLng(47.360224, 8.433520),
    new google.maps.LatLng(47.360155, 8.434101),
    new google.maps.LatLng(47.360160, 8.434430),
    new google.maps.LatLng(47.360378, 8.434527),
    new google.maps.LatLng(47.360738, 8.434598),
    new google.maps.LatLng(47.360938, 8.434650),
    new google.maps.LatLng(47.361024, 8.434889),
    new google.maps.LatLng(47.360955, 8.435392),
    new google.maps.LatLng(47.360886, 8.435959),
    new google.maps.LatLng(47.360811, 8.436275),
    new google.maps.LatLng(47.360788, 8.436299),
    new google.maps.LatLng(47.360719, 8.436302),
    new google.maps.LatLng(47.360702, 8.436298),
    new google.maps.LatLng(47.360661, 8.436273),
    new google.maps.LatLng(47.360395, 8.436172),
    new google.maps.LatLng(47.360228, 8.436116),
    new google.maps.LatLng(47.360169, 8.436130),
    new google.maps.LatLng(47.360066, 8.436167),
    new google.maps.LatLng(47.364345, 8.422922),
    new google.maps.LatLng(47.364389, 8.422926),
    new google.maps.LatLng(47.364437, 8.422924),
    new google.maps.LatLng(47.364746, 8.422818),
    new google.maps.LatLng(47.365436, 8.422959),
    new google.maps.LatLng(47.366120, 8.423112),
    new google.maps.LatLng(47.366433, 8.423029),
    new google.maps.LatLng(47.366631, 8.421213),
    new google.maps.LatLng(47.366660, 8.421033),
    new google.maps.LatLng(47.366801, 8.420141),
    new google.maps.LatLng(47.366823, 8.420034),
    new google.maps.LatLng(47.366831, 8.419916),
    new google.maps.LatLng(47.367034, 8.418208),
    new google.maps.LatLng(47.367056, 8.418034),
    new google.maps.LatLng(47.367169, 8.417145),
    new google.maps.LatLng(47.367217, 8.416715),
    new google.maps.LatLng(47.366144, 8.416403),
    new google.maps.LatLng(47.365292, 8.416257),
    new google.maps.LatLng(47.360666, 8.390374),
    new google.maps.LatLng(47.360501, 8.391281),
    new google.maps.LatLng(47.360148, 8.392052),
    new google.maps.LatLng(47.360173, 8.391148),
    new google.maps.LatLng(47.360693, 8.390592),
    new google.maps.LatLng(47.361261, 8.391142),
    new google.maps.LatLng(47.361808, 8.391730),
    new google.maps.LatLng(47.362340, 8.392341),
    new google.maps.LatLng(47.362812, 8.393022),
    new google.maps.LatLng(47.363300, 8.393672),
    new google.maps.LatLng(47.363809, 8.394275),
    new google.maps.LatLng(47.364246, 8.394979),
    new google.maps.LatLng(47.364791, 8.395958),
    new google.maps.LatLng(47.365675, 8.396746),
    new google.maps.LatLng(47.366262, 8.395780),
    new google.maps.LatLng(47.366776, 8.395093),
    new google.maps.LatLng(47.367282, 8.394426),
    new google.maps.LatLng(47.367783, 8.393767),
    new google.maps.LatLng(47.368343, 8.393184),
    new google.maps.LatLng(47.368895, 8.392506),
    new google.maps.LatLng(47.369371, 8.391701),
    new google.maps.LatLng(47.369722, 8.390952),
    new google.maps.LatLng(47.360315, 8.390305),
    new google.maps.LatLng(47.360738, 8.389616),
    new google.maps.LatLng(47.369448, 8.438702),
    new google.maps.LatLng(47.369023, 8.438585),
    new google.maps.LatLng(47.368542, 8.438492),
    new google.maps.LatLng(47.368100, 8.438411),
    new google.maps.LatLng(47.367986, 8.438376),
    new google.maps.LatLng(47.367680, 8.438313),
    new google.maps.LatLng(47.367316, 8.438273),
    new google.maps.LatLng(47.367135, 8.438254),
    new google.maps.LatLng(47.366987, 8.438303),
    new google.maps.LatLng(47.366946, 8.438404),
    new google.maps.LatLng(47.366944, 8.438467),
    new google.maps.LatLng(47.366892, 8.438459),
    new google.maps.LatLng(47.366842, 8.438442),
    new google.maps.LatLng(47.366822, 8.438391),
    new google.maps.LatLng(47.366814, 8.438412),
    new google.maps.LatLng(47.366787, 8.438628),
    new google.maps.LatLng(47.366729, 8.438650),
    new google.maps.LatLng(47.366759, 8.438677),
    new google.maps.LatLng(47.366772, 8.438498),
    new google.maps.LatLng(47.366787, 8.438389),
    new google.maps.LatLng(47.366848, 8.438283),
    new google.maps.LatLng(47.366870, 8.438239),
    new google.maps.LatLng(47.367015, 8.438198),
    new google.maps.LatLng(47.367333, 8.438256),
    new google.maps.LatLng(47.367595, 8.438308),
    new google.maps.LatLng(47.367797, 8.438344),
    new google.maps.LatLng(47.368160, 8.438442),
    new google.maps.LatLng(47.368414, 8.438508),
    new google.maps.LatLng(47.368445, 8.438516),
    new google.maps.LatLng(47.368503, 8.438529),
    new google.maps.LatLng(47.368607, 8.438549),
    new google.maps.LatLng(47.368670, 8.438644),
    new google.maps.LatLng(47.368847, 8.438706),
    new google.maps.LatLng(47.369240, 8.438744),
    new google.maps.LatLng(47.369738, 8.438822),
    new google.maps.LatLng(47.360201, 8.438882),
    new google.maps.LatLng(47.360400, 8.438905),
    new google.maps.LatLng(47.360501, 8.438921),
    new google.maps.LatLng(47.360892, 8.438986),
    new google.maps.LatLng(47.361446, 8.439087),
    new google.maps.LatLng(47.361985, 8.439199),
    new google.maps.LatLng(47.362239, 8.439249),
    new google.maps.LatLng(47.362286, 8.439266),
    new google.maps.LatLng(47.367847, 8.429388),
    new google.maps.LatLng(47.367874, 8.429180),
    new google.maps.LatLng(47.367885, 8.429069),
    new google.maps.LatLng(47.367887, 8.429050),
    new google.maps.LatLng(47.367933, 8.428954),
    new google.maps.LatLng(47.368242, 8.428990),
    new google.maps.LatLng(47.368617, 8.429075),
    new google.maps.LatLng(47.368719, 8.429092),
    new google.maps.LatLng(47.368944, 8.429145),
    new google.maps.LatLng(47.369320, 8.429251),
    new google.maps.LatLng(47.369590, 8.429309),
    new google.maps.LatLng(47.369677, 8.429324),
    new google.maps.LatLng(47.369966, 8.429360),
    new google.maps.LatLng(47.360288, 8.429430),
    new google.maps.LatLng(47.360443, 8.429461),
    new google.maps.LatLng(47.360465, 8.429474),
    new google.maps.LatLng(47.360644, 8.429540),
    new google.maps.LatLng(47.360948, 8.429620),
    new google.maps.LatLng(47.361242, 8.429685),
    new google.maps.LatLng(47.361375, 8.429702),
    new google.maps.LatLng(47.361400, 8.429703),
    new google.maps.LatLng(47.361453, 8.429707),
    new google.maps.LatLng(47.361473, 8.429709),
    new google.maps.LatLng(47.361532, 8.429707),
    new google.maps.LatLng(47.361852, 8.429729),
    new google.maps.LatLng(47.362173, 8.429789),
    new google.maps.LatLng(47.362459, 8.429847),
    new google.maps.LatLng(47.362554, 8.429825),
    new google.maps.LatLng(47.362647, 8.429549),
    new google.maps.LatLng(47.362693, 8.429179),
    new google.maps.LatLng(47.362729, 8.428751),
    new google.maps.LatLng(47.366104, 8.409291),
    new google.maps.LatLng(47.366103, 8.409268),
    new google.maps.LatLng(47.366138, 8.409229),
    new google.maps.LatLng(47.366183, 8.409231),
    new google.maps.LatLng(47.366153, 8.409276),
    new google.maps.LatLng(47.366005, 8.409365),
    new google.maps.LatLng(47.365897, 8.409570),
    new google.maps.LatLng(47.365767, 8.409739),
    new google.maps.LatLng(47.365693, 8.410389),
    new google.maps.LatLng(47.365615, 8.411201),
    new google.maps.LatLng(47.365533, 8.412121),
    new google.maps.LatLng(47.365467, 8.412939),
    new google.maps.LatLng(47.365444, 8.414821),
    new google.maps.LatLng(47.365444, 8.414964),
    new google.maps.LatLng(47.365318, 8.415424),
    new google.maps.LatLng(47.363961, 8.415296),
    new google.maps.LatLng(47.363115, 8.415196),
    new google.maps.LatLng(47.362967, 8.415183),
    new google.maps.LatLng(47.362278, 8.415127),
    new google.maps.LatLng(47.361675, 8.415055),
    new google.maps.LatLng(47.360932, 8.414988),
    new google.maps.LatLng(47.369337, 8.414862),
    new google.maps.LatLng(47.363187, 8.421922),
    new google.maps.LatLng(47.363043, 8.422118),
    new google.maps.LatLng(47.363007, 8.422165),
    new google.maps.LatLng(47.362979, 8.422219),
    new google.maps.LatLng(47.362865, 8.422394),
    new google.maps.LatLng(47.362779, 8.422503),
    new google.maps.LatLng(47.362676, 8.422701),
    new google.maps.LatLng(47.362606, 8.422806),
    new google.maps.LatLng(47.362566, 8.422840),
    new google.maps.LatLng(47.362508, 8.422852),
    new google.maps.LatLng(47.362387, 8.423011),
    new google.maps.LatLng(47.362099, 8.423328),
    new google.maps.LatLng(47.361704, 8.423783),
    new google.maps.LatLng(47.361481, 8.424081),
    new google.maps.LatLng(47.361400, 8.424179),
    new google.maps.LatLng(47.361352, 8.424220),
    new google.maps.LatLng(47.361248, 8.424327),
    new google.maps.LatLng(47.360904, 8.424781),
    new google.maps.LatLng(47.360520, 8.425283),
    new google.maps.LatLng(47.360337, 8.425553),
    new google.maps.LatLng(47.360128, 8.425832),
    new google.maps.LatLng(47.369756, 8.426331),
    new google.maps.LatLng(47.369300, 8.426902),
    new google.maps.LatLng(47.369132, 8.427065),
    new google.maps.LatLng(47.369092, 8.427103),
    new google.maps.LatLng(47.368979, 8.427172),
    new google.maps.LatLng(47.368595, 8.427634),
    new google.maps.LatLng(47.368372, 8.427913),
    new google.maps.LatLng(47.368337, 8.427961),
    new google.maps.LatLng(47.368244, 8.428138),
    new google.maps.LatLng(47.367942, 8.428581),
    new google.maps.LatLng(47.367482, 8.429094),
    new google.maps.LatLng(47.367031, 8.429606),
    new google.maps.LatLng(47.366732, 8.429986),
    new google.maps.LatLng(47.366680, 8.430058),
    new google.maps.LatLng(47.366633, 8.430109),
    new google.maps.LatLng(47.366580, 8.430211),
    new google.maps.LatLng(47.366367, 8.430594),
    new google.maps.LatLng(47.365910, 8.431137),
    new google.maps.LatLng(47.365353, 8.431806),
    new google.maps.LatLng(47.364962, 8.432298),
    new google.maps.LatLng(47.364868, 8.432486),
    new google.maps.LatLng(47.364518, 8.432913),
    new google.maps.LatLng(47.363435, 8.434173),
    new google.maps.LatLng(47.362847, 8.434953),
    new google.maps.LatLng(47.362291, 8.435935),
    new google.maps.LatLng(47.362224, 8.436074),
    new google.maps.LatLng(47.361957, 8.436892),
    new google.maps.LatLng(47.361652, 8.438886),
    new google.maps.LatLng(47.361284, 8.439955),
    new google.maps.LatLng(47.361210, 8.440068),
    new google.maps.LatLng(47.361064, 8.440720),
    new google.maps.LatLng(47.361040, 8.441411),
    new google.maps.LatLng(47.361048, 8.442324),
    new google.maps.LatLng(47.360851, 8.443118),
    new google.maps.LatLng(47.369977, 8.444591),
    new google.maps.LatLng(47.369913, 8.444698),
    new google.maps.LatLng(47.369623, 8.445065),
    new google.maps.LatLng(47.368902, 8.445158),
    new google.maps.LatLng(47.368428, 8.444570),
    new google.maps.LatLng(47.367687, 8.443340),
    new google.maps.LatLng(47.367583, 8.443240),
    new google.maps.LatLng(47.367019, 8.442787),
    new google.maps.LatLng(47.366603, 8.442322),
    new google.maps.LatLng(47.366380, 8.441602),
    new google.maps.LatLng(47.365790, 8.441382),
    new google.maps.LatLng(47.364493, 8.442133),
    new google.maps.LatLng(47.364361, 8.442206),
    new google.maps.LatLng(47.363719, 8.442650),
    new google.maps.LatLng(47.363096, 8.442915),
    new google.maps.LatLng(47.361617, 8.443211),
    new google.maps.LatLng(47.361496, 8.443246),
    new google.maps.LatLng(47.360733, 8.443428),
    new google.maps.LatLng(47.360126, 8.443536),
    new google.maps.LatLng(47.360103, 8.443784),
    new google.maps.LatLng(47.360390, 8.444010),
    new google.maps.LatLng(47.360448, 8.444013),
    new google.maps.LatLng(47.360536, 8.444040),
    new google.maps.LatLng(47.360493, 8.444141),
    new google.maps.LatLng(47.360859, 8.402808),
    new google.maps.LatLng(47.360864, 8.402768),
    new google.maps.LatLng(47.360995, 8.402539),
    new google.maps.LatLng(47.361148, 8.402172),
    new google.maps.LatLng(47.361385, 8.401312),
    new google.maps.LatLng(47.361405, 8.400776),
    new google.maps.LatLng(47.361288, 8.400528),
    new google.maps.LatLng(47.361113, 8.400441),
    new google.maps.LatLng(47.361027, 8.400395),
    new google.maps.LatLng(47.361094, 8.400311),
    new google.maps.LatLng(47.361211, 8.400183),
    new google.maps.LatLng(47.361060, 8.399334),
    new google.maps.LatLng(47.360538, 8.398718),
    new google.maps.LatLng(47.360095, 8.398086),
    new google.maps.LatLng(47.369644, 8.397360),
    new google.maps.LatLng(47.369254, 8.396844),
    new google.maps.LatLng(47.368855, 8.396397),
    new google.maps.LatLng(47.368483, 8.395963),
    new google.maps.LatLng(47.368015, 8.395365),
    new google.maps.LatLng(47.367558, 8.394735),
    new google.maps.LatLng(47.367472, 8.394323),
    new google.maps.LatLng(47.367630, 8.394025),
    new google.maps.LatLng(47.367767, 8.393987),
    new google.maps.LatLng(47.367486, 8.394452),
    new google.maps.LatLng(47.366977, 8.395043),
    new google.maps.LatLng(47.366583, 8.395552),
    new google.maps.LatLng(47.366540, 8.395610),
    new google.maps.LatLng(47.366516, 8.395659),
    new google.maps.LatLng(47.366378, 8.395707),
    new google.maps.LatLng(47.366044, 8.395362),
    new google.maps.LatLng(47.365598, 8.394715),
    new google.maps.LatLng(47.365321, 8.394361),
    new google.maps.LatLng(47.365207, 8.394236),
    new google.maps.LatLng(47.365751, 8.394062),
    new google.maps.LatLng(47.365996, 8.393881),
    new google.maps.LatLng(47.366092, 8.393830),
    new google.maps.LatLng(47.365998, 8.393899),
    new google.maps.LatLng(47.365114, 8.394365),
    new google.maps.LatLng(47.365022, 8.394441),
    new google.maps.LatLng(47.364823, 8.394635),
    new google.maps.LatLng(47.364719, 8.394629),
    new google.maps.LatLng(47.365069, 8.394176),
    new google.maps.LatLng(47.365500, 8.393650),
    new google.maps.LatLng(47.365770, 8.393291),
    new google.maps.LatLng(47.365839, 8.393159),
    new google.maps.LatLng(47.362651, 8.400628),
    new google.maps.LatLng(47.362616, 8.400599),
    new google.maps.LatLng(47.362702, 8.400470),
    new google.maps.LatLng(47.362915, 8.400192),
    new google.maps.LatLng(47.363137, 8.399887),
    new google.maps.LatLng(47.363414, 8.399519),
    new google.maps.LatLng(47.363629, 8.399237),
    new google.maps.LatLng(47.363688, 8.399157),
    new google.maps.LatLng(47.363716, 8.399106),
    new google.maps.LatLng(47.363798, 8.399072),
    new google.maps.LatLng(47.363997, 8.399186),
    new google.maps.LatLng(47.364271, 8.399538),
    new google.maps.LatLng(47.364577, 8.399948),
    new google.maps.LatLng(47.364828, 8.400260),
    new google.maps.LatLng(47.364999, 8.400477),
    new google.maps.LatLng(47.365113, 8.400651),
    new google.maps.LatLng(47.365155, 8.400703),
    new google.maps.LatLng(47.365192, 8.400749),
    new google.maps.LatLng(47.365278, 8.400839),
    new google.maps.LatLng(47.365387, 8.400857),
    new google.maps.LatLng(47.365478, 8.400890),
    new google.maps.LatLng(47.365526, 8.401022),
    new google.maps.LatLng(47.365598, 8.401148),
    new google.maps.LatLng(47.365631, 8.401202),
    new google.maps.LatLng(47.365660, 8.401267),
    new google.maps.LatLng(47.363986, 8.426035),
    new google.maps.LatLng(47.364102, 8.425089),
    new google.maps.LatLng(47.364211, 8.424156),
    new google.maps.LatLng(47.363861, 8.423385),
    new google.maps.LatLng(47.363151, 8.423214),
    new google.maps.LatLng(47.362439, 8.423077),
    new google.maps.LatLng(47.361740, 8.422905),
    new google.maps.LatLng(47.361069, 8.422785),
    new google.maps.LatLng(47.360345, 8.422649),
    new google.maps.LatLng(47.369633, 8.422603),
    new google.maps.LatLng(47.369750, 8.421700),
    new google.maps.LatLng(47.369885, 8.420854),
    new google.maps.LatLng(47.369209, 8.420607),
    new google.maps.LatLng(47.365656, 8.400395),
    new google.maps.LatLng(47.365203, 8.400304),
    new google.maps.LatLng(47.368738, 8.415584),
    new google.maps.LatLng(47.368812, 8.415189),
    new google.maps.LatLng(47.368824, 8.415092),
    new google.maps.LatLng(47.368833, 8.414932),
    new google.maps.LatLng(47.368834, 8.414898),
    new google.maps.LatLng(47.368740, 8.414757),
    new google.maps.LatLng(47.368501, 8.414433),
    new google.maps.LatLng(47.368182, 8.414026),
    new google.maps.LatLng(47.367851, 8.413623),
    new google.maps.LatLng(47.367486, 8.413166),
    new google.maps.LatLng(47.367109, 8.412674),
    new google.maps.LatLng(47.366743, 8.412186),
    new google.maps.LatLng(47.366440, 8.411800),
    new google.maps.LatLng(47.366295, 8.411614),
    new google.maps.LatLng(47.366158, 8.411440),
    new google.maps.LatLng(47.365806, 8.410997),
    new google.maps.LatLng(47.365422, 8.410484),
    new google.maps.LatLng(47.365126, 8.410087),
    new google.maps.LatLng(47.365012, 8.409854),
    new google.maps.LatLng(47.365164, 8.409573),
    new google.maps.LatLng(47.365498, 8.409180),
    new google.maps.LatLng(47.365868, 8.408730),
    new google.maps.LatLng(47.366256, 8.408240),
    new google.maps.LatLng(47.366519, 8.407928),
    new google.maps.LatLng(47.366539, 8.407904),
    new google.maps.LatLng(47.366595, 8.407854),
    new google.maps.LatLng(47.366853, 8.407547),
    new google.maps.LatLng(47.367234, 8.407087),
    new google.maps.LatLng(47.367644, 8.406558),
    new google.maps.LatLng(47.368066, 8.406017),
    new google.maps.LatLng(47.368468, 8.405499),
    new google.maps.LatLng(47.368866, 8.404995),
    new google.maps.LatLng(47.369295, 8.404455),
    new google.maps.LatLng(47.369695, 8.403950),
    new google.maps.LatLng(47.369982, 8.403584),
    new google.maps.LatLng(47.360295, 8.403223),
    new google.maps.LatLng(47.360664, 8.402766),
    new google.maps.LatLng(47.361043, 8.402288),
    new google.maps.LatLng(47.361399, 8.401823),
    new google.maps.LatLng(47.361727, 8.401407),
    new google.maps.LatLng(47.361853, 8.401247),
    new google.maps.LatLng(47.361894, 8.401195),
    new google.maps.LatLng(47.362076, 8.400977),
    new google.maps.LatLng(47.362338, 8.400603),
    new google.maps.LatLng(47.362666, 8.400133),
    new google.maps.LatLng(47.363048, 8.399634),
    new google.maps.LatLng(47.363450, 8.399198),
    new google.maps.LatLng(47.363791, 8.398998),
    new google.maps.LatLng(47.364177, 8.398959),
    new google.maps.LatLng(47.364388, 8.398971),
    new google.maps.LatLng(47.364404, 8.399128),
    new google.maps.LatLng(47.364586, 8.399524),
    new google.maps.LatLng(47.364835, 8.399927),
    new google.maps.LatLng(47.365116, 8.400307),
    new google.maps.LatLng(47.365282, 8.400539),
    new google.maps.LatLng(47.365346, 8.400692),
    new google.maps.LatLng(47.365769, 8.407201),
    new google.maps.LatLng(47.365790, 8.407414),
    new google.maps.LatLng(47.365802, 8.407755),
    new google.maps.LatLng(47.365791, 8.408219),
    new google.maps.LatLng(47.365763, 8.408759),
    new google.maps.LatLng(47.365726, 8.409348),
    new google.maps.LatLng(47.365716, 8.409882),
    new google.maps.LatLng(47.365708, 8.410202),
    new google.maps.LatLng(47.365705, 8.410253),
    new google.maps.LatLng(47.365707, 8.410369),
    new google.maps.LatLng(47.365692, 8.410720),
    new google.maps.LatLng(47.365699, 8.411215),
    new google.maps.LatLng(47.365687, 8.411789),
    new google.maps.LatLng(47.365666, 8.412373),
    new google.maps.LatLng(47.365598, 8.412883),
    new google.maps.LatLng(47.365543, 8.413039),
    new google.maps.LatLng(47.365532, 8.413125),
    new google.maps.LatLng(47.365500, 8.413553),
    new google.maps.LatLng(47.365448, 8.414053),
    new google.maps.LatLng(47.365388, 8.414645),
    new google.maps.LatLng(47.365323, 8.415250),
    new google.maps.LatLng(47.365303, 8.415847),
    new google.maps.LatLng(47.365251, 8.416439),
    new google.maps.LatLng(47.365204, 8.417020),
    new google.maps.LatLng(47.365172, 8.417556),
    new google.maps.LatLng(47.365164, 8.418075),
    new google.maps.LatLng(47.365153, 8.418618),
    new google.maps.LatLng(47.365136, 8.419112),
    new google.maps.LatLng(47.365129, 8.419378),
    new google.maps.LatLng(47.365119, 8.419481),
    new google.maps.LatLng(47.365100, 8.419852),
    new google.maps.LatLng(47.365083, 8.420349),
    new google.maps.LatLng(47.365045, 8.420930),
    new google.maps.LatLng(47.364992, 8.421481),
    new google.maps.LatLng(47.364980, 8.421695),
    new google.maps.LatLng(47.364993, 8.421843),
    new google.maps.LatLng(47.364986, 8.422255),
    new google.maps.LatLng(47.364975, 8.422823),
    new google.maps.LatLng(47.364939, 8.423411),
    new google.maps.LatLng(47.364902, 8.424014),
    new google.maps.LatLng(47.364853, 8.424576),
    new google.maps.LatLng(47.364826, 8.424922),
    new google.maps.LatLng(47.364796, 8.425375),
    new google.maps.LatLng(47.364782, 8.425869),
    new google.maps.LatLng(47.364768, 8.426089),
    new google.maps.LatLng(47.364766, 8.426117),
    new google.maps.LatLng(47.364723, 8.426276),
    new google.maps.LatLng(47.364681, 8.426649),
    new google.maps.LatLng(47.362012, 8.404200),
    new google.maps.LatLng(47.361574, 8.404911),
    new google.maps.LatLng(47.361055, 8.405597),
    new google.maps.LatLng(47.360479, 8.406341),
    new google.maps.LatLng(47.369996, 8.406939),
    new google.maps.LatLng(47.369459, 8.407613),
    new google.maps.LatLng(47.368953, 8.408228),
    new google.maps.LatLng(47.368409, 8.408839),
    new google.maps.LatLng(47.367842, 8.409501),
    new google.maps.LatLng(47.367334, 8.410181),
    new google.maps.LatLng(47.366809, 8.410836),
    new google.maps.LatLng(47.366240, 8.411514),
    new google.maps.LatLng(47.365725, 8.412145),
    new google.maps.LatLng(47.365190, 8.412805),
    new google.maps.LatLng(47.364672, 8.413464),
    new google.maps.LatLng(47.364084, 8.414186),
    new google.maps.LatLng(47.363533, 8.413636),
    new google.maps.LatLng(47.363021, 8.413009),
    new google.maps.LatLng(47.362501, 8.412371),
    new google.maps.LatLng(47.361964, 8.411681),
    new google.maps.LatLng(47.361479, 8.411078),
    new google.maps.LatLng(47.360992, 8.410477),
    new google.maps.LatLng(47.360467, 8.409801),
    new google.maps.LatLng(47.360090, 8.408904),
    new google.maps.LatLng(47.369657, 8.408103),
    new google.maps.LatLng(47.369132, 8.407276),
    new google.maps.LatLng(47.368564, 8.406469),
    new google.maps.LatLng(47.367980, 8.405745),
    new google.maps.LatLng(47.367380, 8.405299),
    new google.maps.LatLng(47.366604, 8.405297),
    new google.maps.LatLng(47.365838, 8.405200),
    new google.maps.LatLng(47.365139, 8.405139),
    new google.maps.LatLng(47.364457, 8.405094),
    new google.maps.LatLng(47.363716, 8.405142),
    new google.maps.LatLng(47.362932, 8.405398),
    new google.maps.LatLng(47.362126, 8.405813),
    new google.maps.LatLng(47.361344, 8.406215),
    new google.maps.LatLng(47.360556, 8.406495),
    new google.maps.LatLng(47.369732, 8.406484),
    new google.maps.LatLng(47.368910, 8.406228),
    new google.maps.LatLng(47.368182, 8.405695),
    new google.maps.LatLng(47.367676, 8.405118),
    new google.maps.LatLng(47.367039, 8.404346),
    new google.maps.LatLng(47.366335, 8.403719),
    new google.maps.LatLng(47.365503, 8.403406),
    new google.maps.LatLng(47.364665, 8.403242),
    new google.maps.LatLng(47.363837, 8.403172),
    new google.maps.LatLng(47.362986, 8.403112),
    new google.maps.LatLng(47.361266, 8.403355)
  ];
}

function initMap() {
    var mapDiv = document.getElementById('map');
    var map = new google.maps.Map(mapDiv, {
        center: {lat: 47.39, lng: 8.515},
        zoom: 15,
        styles: [
            {
                featureType: 'all',
                stylers: [
                    {saturation: -80}
                ]
            }, {
                featureType: 'road.arterial',
                elementType: 'geometry',
                stylers: [
                    {hue: '#00ffee'},
                    {saturation: 50}
                ]
            }, {
                featureType: 'poi.business',
                elementType: 'labels',
                stylers: [
                    {visibility: 'off'}
                ]
            }
        ]
    });
    
    heatmap = new google.maps.visualization.HeatmapLayer({
    data: getPoints3(),
    map: map
  });
}


var socket = io.connect('http://' + document.domain + ':' + location.port);
socket.on('connect', function() {
    //socket.emit('my event', {data: 'I\'m connected!'});
    console.log("Established socket.io connection");
});

socket.on('reports new', function(data) {
    console.log('Reports NEW', data);
});
